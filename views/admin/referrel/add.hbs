<section class="content-header">
  <h1>
    Referrel
    <small>Add</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="/admin/dashboard"><i class="fa fa-dashboard"></i> Dashboard</a></li>
    <li><a href="/admin/master-contact">Referrel</a></li>

  </ol>
</section>

<!-- Main content -->
<section class="content">

  <!-- SELECT2 EXAMPLE -->
  <div class="box box-default">
    <!-- /.box-header -->
    <div class="box-body">
      <div class="row">
        {{#if error_message}}
        <div class="alert alert-danger" id="result77">
        {{error_message}}
        </div>
        {{/if}}
        <form name="frmClient" id="frmClient" method="POST" action="/admin/client/add">
        <div class="col-md-12">
          <input type="radio" name="referrel_type" class = "referrel_type" checked="checked" value="I">Individual Target
          <input type="radio" name="referrel_type" class ="referrel_type" value="O">Organization
        </div>
        <div class="col-md-6">

          <div class="form-group required">
            <input type="hidden" name="firm_id" id="firm_id" class="form-control" value = "{{firm_id}}">

            <div class="form-group required">
                <label>Select Attorney</label>
                <select class="form-control" style="width: 100%;" id="attorney_id" name="attorney_id">
                  <option value="">Select Any</option>
                  {{#each attorney}}
                    <option value="{{this.id}}">{{this.first_name}}&nbsp;{{this.last_name}}</option>
                  {{/each}}
                </select>
            </div>

            <div class="form-group organisation required" style="display:none">
              <label>Organisation Name</label>
              <input type="text" name="organisation" id="organisation" class="form-control" placeholder="Organisation">
            </div>

            <label>Referrel First Name</label>
            <input type="text" name="referrel_first_name" id="referrel_first_name" class="form-control" placeholder="Referrel First Name">
          </div>
          <div class="form-group required">
            <label>Referrel Last Name</label>
            <input type="text" name="referrel_last_name" id="referrel_last_name" class="form-control" placeholder="Referrel Last Name">
          </div>
          <div class="form-group required">
            <label>Referrel Email</label>
            <input type="text" name="referrel_email" id="referrel_email" class="form-control" placeholder="Referrel Email">
          </div>
          <div class="form-group required">
            <label>Phone/mobile</label>
            <input type="text" name="referrel_mobile" id="referrel_mobile" class="form-control" placeholder="Referrel Mobile">
          </div>
          <div class="form-group required">
            <label>Referred By</label>
            <input type="radio" name="referred_by" class="client-type" checked="checked" value="T">Target
            <input type="radio" name="referred_by" class="client-type" value="C">Client

            <div class="form-group required">
                <label>Select targets</label>
                <select class="form-control" style="width: 100%;" id="attorney_id" name="attorney_id">
                  <option value="">Select Any</option>
                  {{#each targets}}
                    <option value="{{this.id}}">{{this.first_name}}&nbsp;{{this.last_name}}</option>
                  {{/each}}
                </select>
            </div>

            <div class="form-group required">
                <label>Select clients</label>
                <select class="form-control" style="width: 100%;" id="attorney_id" name="attorney_id">
                  <option value="">Select Any</option>
                  {{#each clients}}
                    <option value="{{this.id}}">{{this.first_name}}&nbsp;{{this.last_name}}</option>
                  {{/each}}
                </select>
            </div>
          </div>
          <div class="form-group">
            <label>Remarks</label>
            <textarea name="remarks_notes" id="remarks_notes" class="form-control"></textarea>
          </div>
        </div>

        <div class="col-md-12">
          <div class="form-group">

            <button type="submit" class="btn btn-danger">Submit</button>

          </div>
        </div>
        </form>

      </div>
      <!-- /.row -->
    </div>

  </div>


</section>
<script type="text/javascript">
$(document).ready(function(e){
  $('.referrel_type').click(function(){
      var referrel_type = $(this).val();
      if(referrel_type == 'O') {
          $('.organisation').show();
      } else {
          $('.organisation').hide();
      }
  });

  $("#frmClient").validate({
    rules: {
      first_name: {
        required: true
      },
      last_name: {
        required:  true
      },
      code: {
        required:  true
      },
      designation_id: {
        required:  true
      },
      dob: {
        required:  true
      },
      gender: {
        required:  true
      },
      association_status: {
        required:  true
      },
      industry_type: {
        required:  true
      },
      attorney_id: {
        required:  true
      },
      company_name: {
        required:  true
      },
      email: {
        required:  true
      },
      mobile_cell: {
        required:  true
      },
      address_line_1: {
        required:  true
      },
      country_id: {
        required:  true
      },
      state_id: {
        required:  true
      },
      city_id: {
        required:  true
      },
      zipcode: {
        required:  true
      }

    },
    messages: {
      first_name: {
        required: "Please enter first name"
      },
      last_name: {
        required:  "Please enter last name"
      },
      code: {
        required:  "Please enter code"
      },
      designation_id: {
        required:  "Please select designation"
      },
      dob: {
        required:  "Please enter date of birth"
      },
      gender: {
        required:  "Please select gender"
      },
      association_status: {
        required:  "Please enter select association status"
      },
      industry_type: {
        required:  "Please select industry type"
      },
      attorney_id: {
        required:  "Please select an attorney"
      },
      company_name: {
        required:  "Please enter company name"
      },
      email: {
        required:  "Please enter email"
      },
      mobile_cell: {
        required:  "Please enter mobile number"
      },
      address_line_1: {
        required:  "Please enter address line 1"
      },
      country_id: {
        required:  "Please select country"
      },
      state_id: {
        required:  "Please select state"
      },
      city_id: {
        required:  "Please select city"
      },
      zipcode: {
        required:  "Please select zipcode"
      }
    }
  });

});
</script>
